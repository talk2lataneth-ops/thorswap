<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Swap | THORChain</title>
	<meta name="description" content="Swap Bitcoin, Ethereum, and other cryptocurrencies instantly with THORChain.">
	<link rel="icon" href="favicon.png">
	<link rel="apple-touch-icon" href="apple-touch-icon.png">
	<link rel="stylesheet" href="css/swap-page.css">
	<link rel="stylesheet" href="css/swap-custom.css">
</head>

<body>

	<!-- ═══ Header ═══ -->
	<header class="tc-header">
		<div class="tc-header-inner">
			<!-- Logo — switches between light/dark versions based on theme -->
			<a href="index.html" class="tc-logo">
				<img src="images/logos/full-dark.png" alt="THORChain" class="tc-logo-img tc-logo-for-dark">
				<img src="images/logos/full-dark.png" alt="THORChain" class="tc-logo-img tc-logo-for-light">
			</a>

			<div class="tc-header-right">
				<button class="tc-icon-btn" id="themeToggle" title="Toggle theme">
					<!-- Sun icon (shown in light mode) -->
					<svg class="theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
					</svg>
					<!-- Moon icon (shown in dark mode) -->
					<svg class="theme-icon-dark" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
					</svg>
				</button>

				<button class="tc-history-btn">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
					<span>History</span>
					<span class="tc-history-dot"></span>
				</button>

				<button class="tc-connect-btn">Connect Wallet</button>
			</div>

			<button class="tc-mobile-menu" id="mobileMenuBtn">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
			</button>
		</div>
	</header>

	<!-- ═══ Settings Modal ═══ -->
	<div class="tc-modal-overlay" id="settingsOverlay">
		<div class="tc-modal">
			<div class="tc-modal-header">
				<h3 class="tc-modal-title">Swap Settings</h3>
				<button class="tc-modal-close" id="settingsClose">&times;</button>
			</div>
			<div class="tc-modal-body">
				<!-- Slippage -->
				<div class="tc-setting-group">
					<label class="tc-setting-label">Slippage Tolerance</label>
					<div class="tc-slippage-options">
						<button class="tc-slip-btn active" data-slip="1">1%</button>
						<button class="tc-slip-btn" data-slip="3">3%</button>
						<button class="tc-slip-btn" data-slip="5">5%</button>
						<div class="tc-slip-custom">
							<input type="number" id="customSlippage" class="tc-slip-input" placeholder="Custom" min="0.1" max="50" step="0.1">
							<span class="tc-slip-pct">%</span>
						</div>
					</div>
					<p class="tc-setting-hint">Your transaction will revert if the price changes unfavorably by more than this percentage.</p>
				</div>

				<!-- Streaming -->
				<div class="tc-setting-group">
					<label class="tc-setting-label">Streaming Swap</label>
					<div class="tc-toggle-row">
						<span class="tc-toggle-desc">Split large swaps into smaller sub-swaps for better price execution.</span>
						<label class="tc-switch">
							<input type="checkbox" id="streamingToggle" checked>
							<span class="tc-switch-slider"></span>
						</label>
					</div>
				</div>

				<!-- Affiliate Fee -->
				<div class="tc-setting-group">
					<label class="tc-setting-label">Affiliate Fee</label>
					<div class="tc-toggle-row">
						<span class="tc-toggle-desc">THORChain interface fee: <strong>0 bps</strong></span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- ═══ Main ═══ -->
	<main class="tc-main">
		<div class="tc-swap-wrapper">

			<!-- Tabs + Settings -->
			<div class="tc-tabs-row">
				<div class="tc-tabs">
					<button class="tc-tab active">Market</button>
					<button class="tc-tab">Limit Order</button>
				</div>
				<button class="tc-settings-btn" id="settingsBtn" title="Settings">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<circle cx="12" cy="12" r="3"/>
						<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
					</svg>
				</button>
			</div>

			<!-- Swap Card -->
			<div class="tc-card">
				<!-- Sell -->
				<div class="tc-section tc-sell">
					<div class="tc-section-label">Sell</div>
					<div class="tc-section-row">
						<div class="tc-amount-side">
							<input type="number" id="sellAmount" class="tc-amount-input" placeholder="0" value="1" min="0" step="any">
							<div class="tc-usd-value" id="sellUsd">$69,856</div>
						</div>
						<div class="tc-token-side">
							<div class="tc-token-picker" id="sellPicker">
								<img id="sellIcon" src="images/chains/BTC.svg" alt="" class="tc-token-img">
								<div class="tc-token-info">
									<span class="tc-token-symbol" id="sellSymbol">BTC</span>
									<span class="tc-token-name" id="sellName">Bitcoin</span>
								</div>
								<svg class="tc-dropdown-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
							</div>
							<select id="sellAssetSelect" class="tc-hidden-select">
								<option value="BTC.BTC" data-symbol="BTC" data-name="Bitcoin" data-icon="images/chains/BTC.svg">BTC</option>
								<option value="ETH.ETH" data-symbol="ETH" data-name="Ethereum" data-icon="images/chains/ETH.svg">ETH</option>
								<option value="BSC.BNB" data-symbol="BNB" data-name="BNB Chain" data-icon="images/chains/BSC.svg">BNB</option>
								<option value="AVAX.AVAX" data-symbol="AVAX" data-name="Avalanche" data-icon="images/chains/AVAX.svg">AVAX</option>
								<option value="GAIA.ATOM" data-symbol="ATOM" data-name="Cosmos" data-icon="images/chains/GAIA.svg">ATOM</option>
								<option value="DOGE.DOGE" data-symbol="DOGE" data-name="Dogecoin" data-icon="images/chains/DOGE.svg">DOGE</option>
								<option value="BCH.BCH" data-symbol="BCH" data-name="Bitcoin Cash" data-icon="images/chains/BCH.svg">BCH</option>
								<option value="LTC.LTC" data-symbol="LTC" data-name="Litecoin" data-icon="images/chains/LTC.svg">LTC</option>
								<option value="BASE.ETH" data-symbol="ETH" data-name="Base" data-icon="images/chains/BASE.svg">BASE</option>
								<option value="XRP.XRP" data-symbol="XRP" data-name="Ripple" data-icon="images/chains/XRP.svg">XRP</option>
								<option value="TRX.TRX" data-symbol="TRX" data-name="TRON" data-icon="images/chains/TRON.svg">TRX</option>
							</select>
						</div>
					</div>
					<div class="tc-quick-btns">
						<button class="tc-quick-btn" data-action="clear">Clear</button>
						<button class="tc-quick-btn" data-action="half">50%</button>
						<button class="tc-quick-btn" data-action="max">100%</button>
					</div>
				</div>

				<!-- Divider -->
				<div class="tc-divider">
					<button class="tc-swap-arrow" id="swapArrow" title="Flip assets">
						<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
							<line x1="12" y1="5" x2="12" y2="19"/><polyline points="19 12 12 19 5 12"/>
						</svg>
					</button>
				</div>

				<!-- Buy -->
				<div class="tc-section tc-buy">
					<div class="tc-section-label">Buy</div>
					<div class="tc-section-row">
						<div class="tc-amount-side">
							<div class="tc-amount-output" id="buyEstimate">0</div>
							<div class="tc-usd-value" id="buyUsd">$0</div>
						</div>
						<div class="tc-token-side">
							<div class="tc-token-picker" id="buyPicker">
								<img id="buyIcon" src="images/chains/ETH.svg" alt="" class="tc-token-img">
								<div class="tc-token-info">
									<span class="tc-token-symbol" id="buySymbolDisplay">ETH</span>
									<span class="tc-token-name" id="buyNameDisplay">Ethereum</span>
								</div>
								<svg class="tc-dropdown-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
							</div>
							<select id="buyAssetSelect" class="tc-hidden-select">
								<option value="ETH.ETH" data-symbol="ETH" data-name="Ethereum" data-icon="images/chains/ETH.svg">ETH</option>
								<option value="BTC.BTC" data-symbol="BTC" data-name="Bitcoin" data-icon="images/chains/BTC.svg">BTC</option>
								<option value="BSC.BNB" data-symbol="BNB" data-name="BNB Chain" data-icon="images/chains/BSC.svg">BNB</option>
								<option value="AVAX.AVAX" data-symbol="AVAX" data-name="Avalanche" data-icon="images/chains/AVAX.svg">AVAX</option>
								<option value="GAIA.ATOM" data-symbol="ATOM" data-name="Cosmos" data-icon="images/chains/GAIA.svg">ATOM</option>
								<option value="DOGE.DOGE" data-symbol="DOGE" data-name="Dogecoin" data-icon="images/chains/DOGE.svg">DOGE</option>
								<option value="BCH.BCH" data-symbol="BCH" data-name="Bitcoin Cash" data-icon="images/chains/BCH.svg">BCH</option>
								<option value="LTC.LTC" data-symbol="LTC" data-name="Litecoin" data-icon="images/chains/LTC.svg">LTC</option>
								<option value="BASE.ETH" data-symbol="ETH" data-name="Base" data-icon="images/chains/BASE.svg">BASE</option>
								<option value="XRP.XRP" data-symbol="XRP" data-name="Ripple" data-icon="images/chains/XRP.svg">XRP</option>
								<option value="TRX.TRX" data-symbol="TRX" data-name="TRON" data-icon="images/chains/TRON.svg">TRX</option>
							</select>
						</div>
					</div>
				</div>
			</div>

                    <button id="swapBtn" class="tc-action-btn">
            <span class="tc-btn-spinner" id="btnSpinner" style="display:none"></span>
            <span class="tc-btn-text" id="btnText">Swap</span>
        </button>

			<!-- Results -->
			<div id="resultArea"></div>
		</div>
	</main>

	<!-- ═══ Footer ═══ -->
	<footer class="tc-footer">
		<div class="tc-footer-inner">
			<div class="tc-footer-left">
				Built by
				<img src="images/coins/thorchain-rune-logo.svg" alt="" class="tc-footer-logo">
				<a href="https://thorchain.org" target="_blank" rel="noopener noreferrer" class="tc-footer-link-brand">Unstoppable Wallet</a>
			</div>
			<div class="tc-footer-right">
				<a href="privacy-policy.html" class="tc-footer-link">Privacy Policy</a>
				<span class="tc-footer-sep">|</span>
				<a href="terms-of-use.html" class="tc-footer-link">Terms of Use</a>
				<span class="tc-footer-sep">|</span>
				<span class="tc-footer-report">Report bugs to <a href="mailto:contact@thorchain.org" class="tc-footer-link-brand">contact@thorchain.org</a></span>
				<a href="mailto:contact@thorchain.org" class="tc-footer-icon" title="Email"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a>
				<a href="https://discord.gg/c4EhDZdFMA" target="_blank" rel="noopener noreferrer" class="tc-footer-icon" title="Discord"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.36C18.787 3.66 17.147 3.14 15.432 2.84c-.047-.01-.094.01-.118.05-.204.37-.43.86-.59 1.24a18.6 18.6 0 0 0-5.45 0c-.16-.39-.395-.87-.6-1.24a.12.12 0 0 0-.117-.05A19.7 19.7 0 0 0 3.677 4.36a.11.11 0 0 0-.05.04C.533 9.04-.32 13.57.099 18.05a.13.13 0 0 0 .05.09 19.9 19.9 0 0 0 5.993 3.03.12.12 0 0 0 .131-.05c.462-.63.874-1.3 1.226-1.99a.12.12 0 0 0-.065-.166 13.1 13.1 0 0 1-1.872-.89.12.12 0 0 1-.012-.2c.126-.094.252-.192.372-.29a.116.116 0 0 1 .12-.017c3.928 1.79 8.18 1.79 12.062 0a.116.116 0 0 1 .122.016c.12.1.246.198.373.292a.12.12 0 0 1-.011.2 12.3 12.3 0 0 1-1.873.889.12.12 0 0 0-.064.167c.36.69.772 1.36 1.225 1.99a.12.12 0 0 0 .131.05 19.8 19.8 0 0 0 5.999-3.03.12.12 0 0 0 .05-.088c.5-5.18-.84-9.67-3.549-13.66a.1.1 0 0 0-.048-.04zM8.02 15.33c-1.18 0-2.16-1.09-2.16-2.42 0-1.33.96-2.42 2.16-2.42 1.21 0 2.18 1.1 2.16 2.42 0 1.33-.96 2.42-2.16 2.42zm7.97 0c-1.18 0-2.16-1.09-2.16-2.42 0-1.33.96-2.42 2.16-2.42 1.21 0 2.18 1.1 2.16 2.42 0 1.33-.95 2.42-2.16 2.42z"/></svg></a>
				<a href="https://t.me/thorchain_org" target="_blank" rel="noopener noreferrer" class="tc-footer-icon" title="Telegram"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0h-.056zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.479.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg></a>
			</div>
		</div>
	</footer>

	<!-- ═══ Scripts ═══ -->
	<script>
	/* ── Theme Toggle ── */
	(function() {
		var html = document.documentElement;
		var saved = localStorage.getItem('tc-theme');
		if (saved) html.setAttribute('data-theme', saved);

		document.getElementById('themeToggle').addEventListener('click', function() {
			var current = html.getAttribute('data-theme');
			var next = current === 'dark' ? 'light' : 'dark';
			html.setAttribute('data-theme', next);
			localStorage.setItem('tc-theme', next);
		});
	})();

	/* ── Settings Modal ── */
	(function() {
		var overlay = document.getElementById('settingsOverlay');
		document.getElementById('settingsBtn').addEventListener('click', function() {
			overlay.classList.add('open');
		});
		document.getElementById('settingsClose').addEventListener('click', function() {
			overlay.classList.remove('open');
		});
		overlay.addEventListener('click', function(e) {
			if (e.target === overlay) overlay.classList.remove('open');
		});

		// Slippage buttons
		document.querySelectorAll('.tc-slip-btn').forEach(function(btn) {
			btn.addEventListener('click', function() {
				document.querySelectorAll('.tc-slip-btn').forEach(function(b) { b.classList.remove('active'); });
				btn.classList.add('active');
				document.getElementById('customSlippage').value = '';
				window.tcSlippage = parseFloat(btn.getAttribute('data-slip'));
			});
		});

		document.getElementById('customSlippage').addEventListener('input', function() {
			document.querySelectorAll('.tc-slip-btn').forEach(function(b) { b.classList.remove('active'); });
			var v = parseFloat(this.value);
			if (v > 0) window.tcSlippage = v;
		});

		window.tcSlippage = 1;
	})();

	/* ── Token Picker Sync ── */
	function setupPicker(selectId, iconId, symbolId, nameId) {
		var select = document.getElementById(selectId);
		var icon = document.getElementById(iconId);
		var symbol = document.getElementById(symbolId);
		var name = document.getElementById(nameId);
		if (!select || !icon) return;

		select.addEventListener('change', function() {
			var opt = this.options[this.selectedIndex];
			icon.src = opt.getAttribute('data-icon') || icon.src;
			if (symbol) symbol.textContent = opt.getAttribute('data-symbol') || opt.text;
			if (name) name.textContent = opt.getAttribute('data-name') || '';
		});

		var picker = select.previousElementSibling;
		if (picker && picker.classList.contains('tc-token-picker')) {
			picker.addEventListener('click', function() {
				select.focus();
				try { if (select.showPicker) select.showPicker(); } catch(e) {}
			});
		}
	}
	setupPicker('sellAssetSelect', 'sellIcon', 'sellSymbol', 'sellName');
	setupPicker('buyAssetSelect', 'buyIcon', 'buySymbolDisplay', 'buyNameDisplay');

	/* ── Quick Buttons ── */
	document.querySelectorAll('.tc-quick-btn').forEach(function(btn) {
		btn.addEventListener('click', function() {
			var action = this.getAttribute('data-action');
			var input = document.getElementById('sellAmount');
			if (action === 'clear') input.value = '';
			if (action === 'half') input.value = (parseFloat(input.value) || 0) / 2 || '';
			input.dispatchEvent(new Event('input', { bubbles: true }));
		});
	});


	/* ── Mobile Menu ── */
	document.getElementById('mobileMenuBtn').addEventListener('click', function() {
		var r = document.querySelector('.tc-header-right');
		r.classList.toggle('mobile-open');
	});
	</script>

	<script src="js/swap-page.js"></script>
</body>
</html>
